<div class="container">
  <div class="row">
    <div class="col">
      <h1 class="mt-3">Short URLs Table</h1>
    </div>
    <div class="col text-end">
      <ng-container *ngIf="isAuthorized()">
        <a [routerLink]="['/shortUrl/create']" class="btn btn-primary">Add New Short URL</a>
        <button *ngIf="isAdmin()" (click)="onDeleteAllUrls()" class="btn btn-danger ms-2">Delete All URLs</button>
      </ng-container>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Original URL</th>
            <th scope="col">Shortened URL</th>
            <th scope="col" *ngIf="isAuthorized()">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let shortUrl of shortUrls">
            <td>{{ shortUrl.originalUrl }}</td>
            <td>{{ shortUrl.shortenedUrl }}</td>
            <td *ngIf="isAuthorized()">
              <button (click)="infoUrl(shortUrl.id)" class="btn btn-sm btn-primary me-2">View Details</button>
              <button *ngIf="canDelete(shortUrl)" (click)="deleteUrl(shortUrl.id)" class="btn btn-sm btn-danger">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
